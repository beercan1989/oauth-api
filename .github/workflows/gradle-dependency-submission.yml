name: Gradle Dependency Submission

on:
  workflow_dispatch:
  push:
    branches:
      - main

jobs:
  Gradle-Dependency-Submission:

    runs-on: ubuntu-latest

    permissions:
      # The Dependency Submission API requires write permission on the repository to submit dependencies
      contents: write

    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Gradle Dependency Submission
        uses: mikepenz/gradle-dependency-submission@v0.9.0
        with:
          sub-module-mode: INDIVIDUAL
          fail-on-error: true
          gradle-build-module: |-
            :
            :api:common
            :api:assets
            :api:authorisation
            :api:authentication
            :api:session-info
            :api:token
            :api:token-introspection
            :api:token-revocation
            :api:user-info
            :api:well-known
            :api:server
            :automation:api
# TODO      :automation:browser
# TODO      :automation:load
